<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liquid Effect Animation</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.157.0/build/three.module.js"
            }
        }
    </script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #000;
            color: white;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        /**
         * Project Structure Recommendation:
         * 
         * In a real Shadcn/Next.js project, the files should be organized as follows:
         * - /components/ui/liquid-effect-animation.tsx  (The LiquidEffectAnimation component)
         * - /app/page.tsx or /components/demo.tsx       (The usage/demo component)
         * 
         * The /components/ui folder is the default path for Shadcn UI components. 
         * Keeping UI primitives separate from feature components ensures better maintainability,
         * reusability, and adheres to the library's design patterns.
         */

        const { useEffect, useRef } = React;

        // Lucide 'Droplet' Icon as a React Component
        const DropletIcon = ({ size = 24, className = "" }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
            >
                <path d="M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-7.4-.7-1.2-1.5-2.5-2-3.3a1 1 0 0 0-1.6 0C11.9 5.2 10 9 10 9c-2 3.5-3 5.4-3 7.4a7 7 0 0 0 7 7z"/>
            </svg>
        );

        function LiquidEffectAnimation() {
            const canvasRef = useRef(null);
            const appRef = useRef(null);

            useEffect(() => {
                if (!canvasRef.current) return;

                // Remove existing script if any (cleanup)
                const existingScript = document.getElementById('liquid-effect-script');
                if (existingScript) {
                    document.body.removeChild(existingScript);
                }

                // Load the script dynamically
                const script = document.createElement("script");
                script.id = "liquid-effect-script";
                script.type = "module";
                
                // Using the user provided image for the liquid effect
                const imageUrl = "https://i.ibb.co/DfcgT5Jm/ccccc.png";

                script.textContent = `
                    import LiquidBackground from 'https://cdn.jsdelivr.net/npm/threejs-components@0.0.22/build/backgrounds/liquid1.min.js';

                    const canvas = document.getElementById('liquid-canvas');
                    if (canvas) {
                        const app = LiquidBackground(canvas);
                        // Use the Unsplash image
                        app.loadImage('${imageUrl}');
                        app.liquidPlane.material.metalness = 0.75;
                        app.liquidPlane.material.roughness = 0.25;
                        app.liquidPlane.uniforms.displacementScale.value = 5;
                        app.setRain(false);
                        window.__liquidApp = app;
                    }
                `;

                document.body.appendChild(script);

                return () => {
                    if (window.__liquidApp && window.__liquidApp.dispose) {
                        window.__liquidApp.dispose();
                    }
                    const addedScript = document.getElementById('liquid-effect-script');
                    if (addedScript) {
                        document.body.removeChild(addedScript);
                    }
                };
            }, []);

            return (
                <div
                    className="fixed inset-0 m-0 w-full h-full touch-none overflow-hidden"
                    style={{ fontFamily: '"Montserrat", serif' }}
                >
                    <canvas 
                        ref={canvasRef} 
                        id="liquid-canvas" 
                        className="fixed inset-0 w-full h-full" 
                    />
                    
                    {/* Overlay Removed */}
                </div>
            );
        }

        function DemoOne() {
            return <LiquidEffectAnimation />;
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<DemoOne />);
    </script>
</body>
</html>
